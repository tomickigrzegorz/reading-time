var n=function(n,e){var t=e.global,r=e.notAword,i=e.newLine,o=e.space,c=n.match(t);n.replace(r," ");return n.replace(i," "),n.replace(t," ").split(o).length+(c?c.length:0)},e=function(){function e(n){var e=this,t=n.wordsPerMinute,r=n.photosPerMinute,i=n.elements,o=n.exclude,c=n.onResult,u=void 0===c?function(){}:c;this.onResult=u;var l=document.querySelectorAll(i),a=document.querySelectorAll(o),s=t||200,p=r,f={global:/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF]|[\u3131-\uD79D]/g,notAword:/\W+/g,noscript:/<noscript\b[^<]*(?:(?!<\/noscript>)<[^<]*)*<\/noscript>/g,newLine:/[\r\n]/g,space:/\s+/g,img:/<img([\w\W]+?)[/]?>/g};[].slice.call([l]).forEach((function(n){e.initial(n,a,f,s,p)}))}return e.prototype.initial=function(e,t,r,i,o){var c=this;[].slice.call(e).forEach((function(e,u){var l=function(e,t,r){var i=0;return[].slice.call(t).forEach((function(t){var o=t.innerText.trim();t&&e.contains(t)&&(i=n(o,r))})),i}(e,t,r),a=function(n,e){for(var t,r=e.img,i=e.noscript,o=[];t=r.exec(n.replace(i));)o.push(t[1]);return o.length}(e.innerHTML,r),s=n(e.innerText.trim(),r)-(l||0),p=s/i,f=function(n,e){var t=n>10?n/2*(e+3)+3*(n-10):n/2*(2*e+(1-n));return Math.ceil(t/60)}(a,o),g=o?p+f:p;c.onResult(u,g,s,a)}))},e}();export{e as default};
