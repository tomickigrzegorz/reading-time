var e,t;e=this,t=function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}return function(t){var n=this,i=t.wordsPerMinute,r=t.elements,o=t.exclude,u=t.photosPerMinute,l=t.onResult,a=void 0===l?function(){}:l;e(this,"exCount",(function(e,t){var i=0;return[].slice.call(t).forEach((function(t){var r=t.innerText.trim();t&&e.contains(t)&&(i=n.match(r))})),i})),e(this,"initial",(function(e,t){[].slice.call(e).forEach((function(e,i){var r=n.exCount(e,t),o=n.getImages(e.innerHTML),u=n.match(e.innerText.trim())-(r||0),l=u/n.wordsPerMinute,a=n.imageReadTime(o),c=n.photosPerMinute?l+a:l;n.onResult(i,c,u,o)}))})),e(this,"imageReadTime",(function(e){var t=n.photosPerMinute,i=e>10?e/2*(t+3)+3*(e-10):e/2*(2*t+(1-e));return Math.ceil(i/60)})),e(this,"getImages",(function(e){for(var t,i=n.regexDefault,r=i.img,o=i.noscript,u=[];t=r.exec(e.replace(o));)u.push(t[1]);return u.length})),e(this,"match",(function(e){var t=n.regexDefault,i=t.global,r=t.notAword,o=t.newLine,u=t.space,l=e.match(i);return e.replace(r," "),e.replace(o," "),e.replace(i," ").split(u).length+(l?l.length:0)})),this.onResult=a,this.elements=document.querySelectorAll(r),this.wordsPerMinute=i||200,this.photosPerMinute=u,this.regexDefault={global:/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FFF\uF900-\uFAFF\u3400-\u4DBF]|[\u3131-\uD79D]/g,notAword:/\W+/g,noscript:/<noscript\b[^<]*(?:(?!<\/noscript>)<[^<]*)*<\/noscript>/g,newLine:/[\r\n]/g,space:/\s+/g,img:/<img([\w\W]+?)[/]?>/g};var c=document.querySelectorAll(o);[].slice.call([this.elements]).forEach((function(e){n.initial(e,c)}))}},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ReadingTime=t();
